{"version":3,"file":"personal.js","sources":["pages/personal/personal.vue","pages/personal/personal.vue?type=page"],"sourcesContent":["<template>\n  <view class=\"personal-container\">\n    <!-- 用户信息区域 -->\n    <view class=\"user-info-section\">\n      <view class=\"user-avatar\">\n        <image\n          :src=\"userInfo.avatarUrl || '/static/logo.png'\"\n          mode=\"aspectFill\"\n          class=\"avatar-img\"\n        ></image>\n      </view>\n      <view class=\"user-details\">\n        <text class=\"user-name\">{{ userInfo.nickName || \"未设置昵称\" }}</text>\n        <text class=\"user-desc\">{{\n          userInfo.nickName ? \"已登录\" : \"请先登录\"\n        }}</text>\n      </view>\n      <view class=\"user-actions\">\n        <button\n          v-if=\"!isLoggedIn\"\n          class=\"login-btn\"\n          size=\"mini\"\n          @click=\"goToLogin\"\n        >\n          去登录\n        </button>\n        <button v-else class=\"logout-btn\" size=\"mini\" @click=\"handleLogout\">\n          退出登录\n        </button>\n      </view>\n    </view>\n\n    <!-- 功能菜单 -->\n    <view class=\"menu-section\">\n      <view class=\"menu-item\" @click=\"handleMenuClick('profile')\">\n        <view class=\"menu-icon\">👤</view>\n        <text class=\"menu-text\">个人资料</text>\n        <text class=\"menu-arrow\">></text>\n      </view>\n\n      <view class=\"menu-item\" @click=\"handleMenuClick('settings')\">\n        <view class=\"menu-icon\">⚙️</view>\n        <text class=\"menu-text\">设置</text>\n        <text class=\"menu-arrow\">></text>\n      </view>\n\n      <view class=\"menu-item\" @click=\"handleMenuClick('about')\">\n        <view class=\"menu-icon\">ℹ️</view>\n        <text class=\"menu-text\">关于我们</text>\n        <text class=\"menu-arrow\">></text>\n      </view>\n\n      <view class=\"menu-item\" @click=\"handleMenuClick('feedback')\">\n        <view class=\"menu-icon\">💬</view>\n        <text class=\"menu-text\">意见反馈</text>\n        <text class=\"menu-arrow\">></text>\n      </view>\n    </view>\n\n    <!-- 版本信息 -->\n    <view class=\"version-section\">\n      <text class=\"version-text\">版本 1.0.0</text>\n    </view>\n  </view>\n</template>\n\n<script>\nimport Auth from \"../../utils/auth.js\";\n\nexport default {\n  name: \"Personal\",\n  data() {\n    return {\n      userInfo: {},\n      isLoggedIn: false,\n    };\n  },\n  methods: {\n    // 获取用户信息\n    getUserInfo() {\n      this.userInfo = Auth.getUserInfo() || {};\n      this.isLoggedIn = Auth.isLoggedIn();\n    },\n\n    // 跳转到登录页\n    goToLogin() {\n      uni.navigateTo({\n        url: \"/pages/login/login\",\n      });\n    },\n\n    // 退出登录\n    handleLogout() {\n      uni.showModal({\n        title: \"确认退出\",\n        content: \"确定要退出登录吗？\",\n        success: (res) => {\n          if (res.confirm) {\n            Auth.logout();\n          }\n        },\n      });\n    },\n\n    // 菜单点击处理\n    handleMenuClick(type) {\n      if (!this.isLoggedIn) {\n        uni.showToast({\n          title: \"请先登录\",\n          icon: \"none\",\n        });\n        return;\n      }\n\n      switch (type) {\n        case \"profile\":\n          uni.showToast({\n            title: \"个人资料功能开发中\",\n            icon: \"none\",\n          });\n          break;\n        case \"settings\":\n          uni.showToast({\n            title: \"设置功能开发中\",\n            icon: \"none\",\n          });\n          break;\n        case \"about\":\n          uni.showModal({\n            title: \"关于我们\",\n            content:\n              \"这是一个基于uni-app开发的微信小程序，提供便捷的服务功能。\",\n            showCancel: false,\n          });\n          break;\n        case \"feedback\":\n          uni.showToast({\n            title: \"意见反馈功能开发中\",\n            icon: \"none\",\n          });\n          break;\n      }\n    },\n  },\n\n  onShow() {\n    // 每次显示页面时更新用户信息\n    this.getUserInfo();\n  },\n\n  onLoad() {\n    this.getUserInfo();\n  },\n};\n</script>\n\n<style scoped>\n.personal-container {\n  min-height: 100vh;\n  background: #f5f5f5;\n}\n\n/* 用户信息区域 */\n.user-info-section {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  padding: 60rpx 40rpx;\n  display: flex;\n  align-items: center;\n  color: #ffffff;\n}\n\n.user-avatar {\n  margin-right: 30rpx;\n}\n\n.avatar-img {\n  width: 120rpx;\n  height: 120rpx;\n  border-radius: 60rpx;\n  border: 4rpx solid rgba(255, 255, 255, 0.3);\n}\n\n.user-details {\n  flex: 1;\n}\n\n.user-name {\n  font-size: 36rpx;\n  font-weight: bold;\n  display: block;\n  margin-bottom: 10rpx;\n}\n\n.user-desc {\n  font-size: 24rpx;\n  opacity: 0.8;\n  display: block;\n}\n\n.user-actions {\n  margin-left: 20rpx;\n}\n\n.login-btn,\n.logout-btn {\n  background: rgba(255, 255, 255, 0.2);\n  color: #ffffff;\n  border: 2rpx solid rgba(255, 255, 255, 0.3);\n  border-radius: 30rpx;\n  font-size: 24rpx;\n  padding: 10rpx 20rpx;\n}\n\n.logout-btn {\n  background: rgba(255, 255, 255, 0.1);\n}\n\n/* 功能菜单 */\n.menu-section {\n  background: #ffffff;\n  margin: 20rpx;\n  border-radius: 20rpx;\n  overflow: hidden;\n}\n\n.menu-item {\n  display: flex;\n  align-items: center;\n  padding: 30rpx 40rpx;\n  border-bottom: 1rpx solid #f0f0f0;\n  transition: background-color 0.3s;\n}\n\n.menu-item:last-child {\n  border-bottom: none;\n}\n\n.menu-item:active {\n  background-color: #f8f8f8;\n}\n\n.menu-icon {\n  font-size: 40rpx;\n  margin-right: 30rpx;\n  width: 40rpx;\n  text-align: center;\n}\n\n.menu-text {\n  flex: 1;\n  font-size: 32rpx;\n  color: #333333;\n}\n\n.menu-arrow {\n  font-size: 32rpx;\n  color: #cccccc;\n}\n\n/* 版本信息 */\n.version-section {\n  text-align: center;\n  padding: 60rpx 0;\n}\n\n.version-text {\n  font-size: 24rpx;\n  color: #999999;\n}\n</style>\n","import MiniProgramPage from '/Users/will/Documents/WillProject/Uni-App/bxjf-mini-program/pages/personal/personal.vue'\nwx.createPage(MiniProgramPage)"],"names":["_sfc_main","Auth","uni","res","type","MiniProgramPage"],"mappings":"wFAqEKA,EAAU,CACb,KAAM,WACN,MAAO,CACL,MAAO,CACL,SAAU,CAAE,EACZ,WAAY,GAEf,EACD,QAAS,CAEP,aAAc,CACZ,KAAK,SAAWC,EAAAA,KAAK,YAAW,GAAM,CAAA,EACtC,KAAK,WAAaA,OAAK,YACxB,EAGD,WAAY,CACVC,EAAAA,MAAI,WAAW,CACb,IAAK,oBACP,CAAC,CACF,EAGD,cAAe,CACbA,EAAAA,MAAI,UAAU,CACZ,MAAO,OACP,QAAS,YACT,QAAUC,GAAQ,CACZA,EAAI,SACNF,EAAI,KAAC,OAAM,CAEd,CACH,CAAC,CACF,EAGD,gBAAgBG,EAAM,CACpB,GAAI,CAAC,KAAK,WAAY,CACpBF,EAAAA,MAAI,UAAU,CACZ,MAAO,OACP,KAAM,MACR,CAAC,EACD,MACF,CAEA,OAAQE,EAAI,CACV,IAAK,UACHF,EAAAA,MAAI,UAAU,CACZ,MAAO,YACP,KAAM,MACR,CAAC,EACD,MACF,IAAK,WACHA,EAAAA,MAAI,UAAU,CACZ,MAAO,UACP,KAAM,MACR,CAAC,EACD,MACF,IAAK,QACHA,EAAAA,MAAI,UAAU,CACZ,MAAO,OACP,QACE,mCACF,WAAY,EACd,CAAC,EACD,MACF,IAAK,WACHA,EAAAA,MAAI,UAAU,CACZ,MAAO,YACP,KAAM,MACR,CAAC,EACD,KACJ,CACD,CACF,EAED,QAAS,CAEP,KAAK,YAAW,CACjB,EAED,QAAS,CACP,KAAK,YAAW,CACjB,CACH,wgBCxJA,GAAG,WAAWG,CAAe"}