{"version":3,"file":"form.js","sources":["pages/form/form.vue","pages/form/form.vue?type=page"],"sourcesContent":["<template>\n  <view class=\"form-container\">\n    <view class=\"header\">\n      <text class=\"title\">保险信息填写</text>\n    </view>\n\n    <view class=\"form-content\">\n      <!-- 投保人信息 -->\n      <view class=\"section\">\n        <view class=\"section-title\">\n          <text class=\"section-text\">投保人信息</text>\n        </view>\n\n        <view class=\"form-item\">\n          <text class=\"label\">姓名 <text class=\"required\">*</text></text>\n          <input\n            class=\"input\"\n            v-model=\"formData.policyholder.name\"\n            placeholder=\"请输入投保人姓名\"\n            maxlength=\"20\"\n          />\n        </view>\n\n        <view class=\"form-item\">\n          <text class=\"label\">身份证号 <text class=\"required\">*</text></text>\n          <input\n            class=\"input\"\n            v-model=\"formData.policyholder.idCard\"\n            placeholder=\"请输入身份证号码\"\n            maxlength=\"18\"\n            type=\"idcard\"\n          />\n        </view>\n\n        <view class=\"form-item\">\n          <text class=\"label\">联系电话 <text class=\"required\">*</text></text>\n          <input\n            class=\"input\"\n            v-model=\"formData.policyholder.phone\"\n            placeholder=\"请输入手机号码\"\n            maxlength=\"11\"\n            type=\"number\"\n          />\n        </view>\n\n        <view class=\"form-item\">\n          <text class=\"label\">住址 <text class=\"required\">*</text></text>\n          <textarea\n            class=\"textarea\"\n            v-model=\"formData.policyholder.address\"\n            placeholder=\"请输入详细住址\"\n            maxlength=\"100\"\n          />\n        </view>\n      </view>\n\n      <!-- 被保险人信息 -->\n      <view class=\"section\">\n        <view class=\"section-title\">\n          <text class=\"section-text\">被保险人信息</text>\n        </view>\n\n        <view class=\"form-item\">\n          <text class=\"label\">姓名 <text class=\"required\">*</text></text>\n          <input\n            class=\"input\"\n            v-model=\"formData.insured.name\"\n            placeholder=\"请输入被保险人姓名\"\n            maxlength=\"20\"\n          />\n        </view>\n\n        <view class=\"form-item\">\n          <text class=\"label\">身份证号 <text class=\"required\">*</text></text>\n          <input\n            class=\"input\"\n            v-model=\"formData.insured.idCard\"\n            placeholder=\"请输入身份证号码\"\n            maxlength=\"18\"\n            type=\"idcard\"\n          />\n        </view>\n\n        <view class=\"form-item\">\n          <text class=\"label\">联系电话 <text class=\"required\">*</text></text>\n          <input\n            class=\"input\"\n            v-model=\"formData.insured.phone\"\n            placeholder=\"请输入手机号码\"\n            maxlength=\"11\"\n            type=\"number\"\n          />\n        </view>\n\n        <view class=\"form-item\">\n          <text class=\"label\">住址 <text class=\"required\">*</text></text>\n          <textarea\n            class=\"textarea\"\n            v-model=\"formData.insured.address\"\n            placeholder=\"请输入详细住址\"\n            maxlength=\"100\"\n          />\n        </view>\n\n        <view class=\"form-item\">\n          <text class=\"label\">学校 <text class=\"required\">*</text></text>\n          <input\n            class=\"input\"\n            v-model=\"formData.insured.school\"\n            placeholder=\"请输入学校名称\"\n            maxlength=\"50\"\n          />\n        </view>\n\n        <view class=\"form-item\">\n          <text class=\"label\">班级 <text class=\"required\">*</text></text>\n          <input\n            class=\"input\"\n            v-model=\"formData.insured.class\"\n            placeholder=\"请输入班级\"\n            maxlength=\"20\"\n          />\n        </view>\n      </view>\n\n      <!-- 提交按钮 -->\n      <view class=\"submit-section\">\n        <button class=\"submit-btn\" @click=\"submitForm\">提交信息</button>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nexport default {\n  name: \"Form\",\n  data() {\n    return {\n      formData: {\n        policyholder: {\n          name: \"\",\n          idCard: \"\",\n          phone: \"\",\n          address: \"\",\n        },\n        insured: {\n          name: \"\",\n          idCard: \"\",\n          phone: \"\",\n          address: \"\",\n          school: \"\",\n          class: \"\",\n        },\n      },\n    };\n  },\n  methods: {\n    // 验证身份证号\n    validateIdCard(idCard) {\n      const reg = /(^\\d{15}$)|(^\\d{18}$)|(^\\d{17}(\\d|X|x)$)/;\n      return reg.test(idCard);\n    },\n\n    // 验证手机号\n    validatePhone(phone) {\n      const reg = /^1[3-9]\\d{9}$/;\n      return reg.test(phone);\n    },\n\n    // 验证必填项\n    validateRequired(value, fieldName) {\n      if (!value || value.trim() === \"\") {\n        uni.showToast({\n          title: `请填写${fieldName}`,\n          icon: \"none\",\n        });\n        return false;\n      }\n      return true;\n    },\n\n    // 提交表单\n    submitForm() {\n      // 验证投保人信息\n      if (!this.validateRequired(this.formData.policyholder.name, \"投保人姓名\"))\n        return;\n      if (\n        !this.validateRequired(\n          this.formData.policyholder.idCard,\n          \"投保人身份证号\"\n        )\n      )\n        return;\n      if (!this.validateIdCard(this.formData.policyholder.idCard)) {\n        uni.showToast({\n          title: \"投保人身份证号格式不正确\",\n          icon: \"none\",\n        });\n        return;\n      }\n      if (\n        !this.validateRequired(\n          this.formData.policyholder.phone,\n          \"投保人联系电话\"\n        )\n      )\n        return;\n      if (!this.validatePhone(this.formData.policyholder.phone)) {\n        uni.showToast({\n          title: \"投保人手机号格式不正确\",\n          icon: \"none\",\n        });\n        return;\n      }\n      if (\n        !this.validateRequired(this.formData.policyholder.address, \"投保人住址\")\n      )\n        return;\n\n      // 验证被保险人信息\n      if (!this.validateRequired(this.formData.insured.name, \"被保险人姓名\"))\n        return;\n      if (\n        !this.validateRequired(this.formData.insured.idCard, \"被保险人身份证号\")\n      )\n        return;\n      if (!this.validateIdCard(this.formData.insured.idCard)) {\n        uni.showToast({\n          title: \"被保险人身份证号格式不正确\",\n          icon: \"none\",\n        });\n        return;\n      }\n      if (\n        !this.validateRequired(this.formData.insured.phone, \"被保险人联系电话\")\n      )\n        return;\n      if (!this.validatePhone(this.formData.insured.phone)) {\n        uni.showToast({\n          title: \"被保险人手机号格式不正确\",\n          icon: \"none\",\n        });\n        return;\n      }\n      if (!this.validateRequired(this.formData.insured.address, \"被保险人住址\"))\n        return;\n      if (!this.validateRequired(this.formData.insured.school, \"学校\")) return;\n      if (!this.validateRequired(this.formData.insured.class, \"班级\")) return;\n\n      // 所有验证通过，提交数据\n      console.log(\"表单数据:\", this.formData);\n      uni.showToast({\n        title: \"信息提交成功\",\n        icon: \"success\",\n      });\n\n      // 这里可以添加实际的提交逻辑\n      // this.submitToServer();\n    },\n\n    // 提交到服务器的方法（示例）\n    submitToServer() {\n      // 这里添加实际的API调用\n      // uni.request({\n      //   url: 'your-api-url',\n      //   method: 'POST',\n      //   data: this.formData,\n      //   success: (res) => {\n      //     console.log('提交成功:', res);\n      //   },\n      //   fail: (err) => {\n      //     console.error('提交失败:', err);\n      //   }\n      // });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.form-container {\n  padding: 20rpx;\n  background-color: #f5f5f5;\n  min-height: 100vh;\n}\n\n.header {\n  text-align: center;\n  padding: 40rpx 0;\n  background-color: #fff;\n  border-radius: 20rpx;\n  margin-bottom: 20rpx;\n}\n\n.title {\n  font-size: 36rpx;\n  font-weight: bold;\n  color: #333;\n}\n\n.form-content {\n  background-color: #fff;\n  border-radius: 20rpx;\n  padding: 30rpx;\n}\n\n.section {\n  margin-bottom: 40rpx;\n}\n\n.section-title {\n  border-bottom: 2rpx solid #e0e0e0;\n  padding-bottom: 20rpx;\n  margin-bottom: 30rpx;\n}\n\n.section-text {\n  font-size: 32rpx;\n  font-weight: bold;\n  color: #333;\n}\n\n.form-item {\n  margin-bottom: 30rpx;\n}\n\n.label {\n  display: block;\n  font-size: 28rpx;\n  color: #333;\n  margin-bottom: 15rpx;\n  font-weight: 500;\n}\n\n.required {\n  color: #ff4757;\n}\n\n.input {\n  width: 100%;\n  height: 80rpx;\n  border: 2rpx solid #e0e0e0;\n  border-radius: 10rpx;\n  padding: 0 20rpx;\n  font-size: 28rpx;\n  background-color: #fff;\n  box-sizing: border-box;\n}\n\n.textarea {\n  width: 100%;\n  height: 120rpx;\n  border: 2rpx solid #e0e0e0;\n  border-radius: 10rpx;\n  padding: 20rpx;\n  font-size: 28rpx;\n  background-color: #fff;\n  box-sizing: border-box;\n  resize: none;\n}\n\n.input:focus,\n.textarea:focus {\n  border-color: #007aff;\n  outline: none;\n}\n\n.submit-section {\n  margin-top: 60rpx;\n  padding: 0 20rpx;\n}\n\n.submit-btn {\n  width: 100%;\n  height: 88rpx;\n  background: linear-gradient(135deg, #007aff, #0056cc);\n  color: #fff;\n  border: none;\n  border-radius: 44rpx;\n  font-size: 32rpx;\n  font-weight: bold;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.submit-btn:active {\n  transform: scale(0.98);\n  opacity: 0.9;\n}\n</style>\n","import MiniProgramPage from '/Users/will/Documents/WillProject/Uni-App/bxjf-mini-program/pages/form/form.vue'\nwx.createPage(MiniProgramPage)"],"names":["_sfc_main","idCard","phone","value","fieldName","uni","MiniProgramPage"],"mappings":"uDAsIKA,EAAU,CACb,KAAM,OACN,MAAO,CACL,MAAO,CACL,SAAU,CACR,aAAc,CACZ,KAAM,GACN,OAAQ,GACR,MAAO,GACP,QAAS,EACV,EACD,QAAS,CACP,KAAM,GACN,OAAQ,GACR,MAAO,GACP,QAAS,GACT,OAAQ,GACR,MAAO,EACR,CACF,EAEJ,EACD,QAAS,CAEP,eAAeC,EAAQ,CAErB,MADY,2CACD,KAAKA,CAAM,CACvB,EAGD,cAAcC,EAAO,CAEnB,MADY,gBACD,KAAKA,CAAK,CACtB,EAGD,iBAAiBC,EAAOC,EAAW,CACjC,MAAI,CAACD,GAASA,EAAM,KAAI,IAAO,IAC7BE,EAAAA,MAAI,UAAU,CACZ,MAAO,MAAMD,CAAS,GACtB,KAAM,MACR,CAAC,EACM,IAEF,EACR,EAGD,YAAa,CAEX,GAAK,KAAK,iBAAiB,KAAK,SAAS,aAAa,KAAM,OAAO,GAGhE,KAAK,iBACJ,KAAK,SAAS,aAAa,OAC3B,SACF,EAGF,IAAI,CAAC,KAAK,eAAe,KAAK,SAAS,aAAa,MAAM,EAAG,CAC3DC,EAAAA,MAAI,UAAU,CACZ,MAAO,eACP,KAAM,MACR,CAAC,EACD,MACF,CACA,GACG,KAAK,iBACJ,KAAK,SAAS,aAAa,MAC3B,SACF,EAGF,IAAI,CAAC,KAAK,cAAc,KAAK,SAAS,aAAa,KAAK,EAAG,CACzDA,EAAAA,MAAI,UAAU,CACZ,MAAO,cACP,KAAM,MACR,CAAC,EACD,MACF,CACA,GACG,KAAK,iBAAiB,KAAK,SAAS,aAAa,QAAS,OAAO,GAK/D,KAAK,iBAAiB,KAAK,SAAS,QAAQ,KAAM,QAAQ,GAG5D,KAAK,iBAAiB,KAAK,SAAS,QAAQ,OAAQ,UAAU,EAGjE,IAAI,CAAC,KAAK,eAAe,KAAK,SAAS,QAAQ,MAAM,EAAG,CACtDA,EAAAA,MAAI,UAAU,CACZ,MAAO,gBACP,KAAM,MACR,CAAC,EACD,MACF,CACA,GACG,KAAK,iBAAiB,KAAK,SAAS,QAAQ,MAAO,UAAU,EAGhE,IAAI,CAAC,KAAK,cAAc,KAAK,SAAS,QAAQ,KAAK,EAAG,CACpDA,EAAAA,MAAI,UAAU,CACZ,MAAO,eACP,KAAM,MACR,CAAC,EACD,MACF,CACK,KAAK,iBAAiB,KAAK,SAAS,QAAQ,QAAS,QAAQ,GAE7D,KAAK,iBAAiB,KAAK,SAAS,QAAQ,OAAQ,IAAI,GACxD,KAAK,iBAAiB,KAAK,SAAS,QAAQ,MAAO,IAAI,IAG5DA,EAAA,MAAA,MAAA,MAAA,6BAAY,QAAS,KAAK,QAAQ,EAClCA,EAAAA,MAAI,UAAU,CACZ,MAAO,SACP,KAAM,SACR,CAAC,MAIF,EAGD,gBAAiB,CAahB,CACF,CACH,88BCnRA,GAAG,WAAWC,CAAe"}