{"version":3,"file":"api.js","sources":["utils/api.js"],"sourcesContent":["/**\n * API接口模块\n * 统一管理所有业务接口\n */\n\nimport request from \"./request.js\";\nimport { API_CONFIG } from \"./config.js\";\n\n/**\n * 用户相关接口\n */\nexport const userApi = {\n  /**\n   * 获取用户信息\n   */\n  getProfile() {\n    return request.get(API_CONFIG.user.profile);\n  },\n\n  /**\n   * 更新用户信息\n   * @param {Object} data 用户数据\n   */\n  updateProfile(data) {\n    return request.put(API_CONFIG.user.updateProfile, data);\n  },\n};\n\n/**\n * 支付相关接口\n */\nexport const paymentApi = {\n  /**\n   * 创建支付订单\n   * @param {Object} orderData 订单数据\n   */\n  createPayment(params) {\n    return request.get(API_CONFIG.payment.create, params);\n  },\n\n  /**\n   * 验证支付结果\n   * @param {Object} data 验证数据\n   */\n  verifyPayment(data) {\n    return request.post(API_CONFIG.payment.verify, data);\n  },\n\n  /**\n   * 获取支付记录列表\n   * @param {Object} params 查询参数\n   */\n  getPaymentList(params = {}) {\n    return request.get(API_CONFIG.payment.list, params);\n  },\n\n  /**\n   * 获取支付详情\n   * @param {String} id 支付ID\n   */\n  getPaymentDetail(id) {\n    return request.get(`${API_CONFIG.payment.detail}/${id}`);\n  },\n};\n\n/**\n * 文件上传接口\n */\nexport const uploadApi = {\n  /**\n   * 上传图片\n   * @param {String} filePath 文件路径\n   * @param {Object} formData 额外数据\n   */\n  uploadImage(filePath, formData = {}) {\n    return request.upload(API_CONFIG.upload.image, filePath, formData, {\n      name: \"image\",\n    });\n  },\n\n  /**\n   * 上传文件\n   * @param {String} filePath 文件路径\n   * @param {Object} formData 额外数据\n   */\n  uploadFile(filePath, formData = {}) {\n    return request.upload(API_CONFIG.upload.file, filePath, formData, {\n      name: \"file\",\n    });\n  },\n};\n\n/**\n * 业务相关接口\n */\nexport const businessApi = {\n  /**\n   * 提交表单\n   * @param {Object} formData 表单数据\n   */\n  submitForm(formData) {\n    return request.post(API_CONFIG.business.form, formData);\n  },\n\n  /**\n   * 获取业务列表\n   * @param {Object} params 查询参数\n   */\n  getBusinessList(params = {}) {\n    return request.get(API_CONFIG.business.list, params);\n  },\n  // 获取详情\n  getOrderDetail(params) {\n    return request.get(API_CONFIG.business.detail, params);\n  },\n};\n\n/**\n * 微信相关接口\n */\nexport const wechatApi = {\n  /**\n   * 获取微信支付参数\n   * @param {Object} orderInfo 订单信息\n   */\n  getWechatPayParams(orderInfo) {\n    return request.post(\"/wechat/pay/create\", {\n      orderId: parseInt(orderInfo.orderId),\n      amount: orderInfo.amount,\n      description: orderInfo.description || \"商品购买\",\n    });\n  },\n\n  /**\n   * 微信登录\n   * @param {Object} data 登录数据\n   */\n  wechatLogin(data) {\n    return request.post(\"/app-api/member/auth/weixin-mini-app-login\", data);\n  },\n};\n\n// 默认导出所有API\nexport default {\n  user: userApi,\n  payment: paymentApi,\n  upload: uploadApi,\n  business: businessApi,\n  wechat: wechatApi,\n};\n"],"names":["userApi","request","API_CONFIG","data","paymentApi","params","id","uploadApi","filePath","formData","businessApi","wechatApi","orderInfo","api"],"mappings":"sEAWaA,EAAU,CAIrB,YAAa,CACX,OAAOC,EAAO,QAAC,IAAIC,EAAU,WAAC,KAAK,OAAO,CAC3C,EAMD,cAAcC,EAAM,CAClB,OAAOF,EAAAA,QAAQ,IAAIC,EAAAA,WAAW,KAAK,cAAeC,CAAI,CACvD,CACH,EAKaC,EAAa,CAKxB,cAAcC,EAAQ,CACpB,OAAOJ,EAAAA,QAAQ,IAAIC,EAAAA,WAAW,QAAQ,OAAQG,CAAM,CACrD,EAMD,cAAcF,EAAM,CAClB,OAAOF,EAAAA,QAAQ,KAAKC,EAAAA,WAAW,QAAQ,OAAQC,CAAI,CACpD,EAMD,eAAeE,EAAS,GAAI,CAC1B,OAAOJ,EAAAA,QAAQ,IAAIC,EAAAA,WAAW,QAAQ,KAAMG,CAAM,CACnD,EAMD,iBAAiBC,EAAI,CACnB,OAAOL,EAAO,QAAC,IAAI,GAAGC,EAAU,WAAC,QAAQ,MAAM,IAAII,CAAE,EAAE,CACxD,CACH,EAKaC,EAAY,CAMvB,YAAYC,EAAUC,EAAW,GAAI,CACnC,OAAOR,EAAAA,QAAQ,OAAOC,EAAU,WAAC,OAAO,MAAOM,EAAUC,EAAU,CACjE,KAAM,OACZ,CAAK,CACF,EAOD,WAAWD,EAAUC,EAAW,GAAI,CAClC,OAAOR,EAAAA,QAAQ,OAAOC,EAAU,WAAC,OAAO,KAAMM,EAAUC,EAAU,CAChE,KAAM,MACZ,CAAK,CACF,CACH,EAKaC,EAAc,CAKzB,WAAWD,EAAU,CACnB,OAAOR,EAAAA,QAAQ,KAAKC,EAAAA,WAAW,SAAS,KAAMO,CAAQ,CACvD,EAMD,gBAAgBJ,EAAS,GAAI,CAC3B,OAAOJ,EAAAA,QAAQ,IAAIC,EAAAA,WAAW,SAAS,KAAMG,CAAM,CACpD,EAED,eAAeA,EAAQ,CACrB,OAAOJ,EAAAA,QAAQ,IAAIC,EAAAA,WAAW,SAAS,OAAQG,CAAM,CACtD,CACH,EAKaM,EAAY,CAKvB,mBAAmBC,EAAW,CAC5B,OAAOX,EAAO,QAAC,KAAK,qBAAsB,CACxC,QAAS,SAASW,EAAU,OAAO,EACnC,OAAQA,EAAU,OAClB,YAAaA,EAAU,aAAe,MAC5C,CAAK,CACF,EAMD,YAAYT,EAAM,CAChB,OAAOF,UAAQ,KAAK,6CAA8CE,CAAI,CACvE,CACH,EAGeU,EAAA,CACb,KAAMb,EACN,QAASI,EACT,OAAQG,EACR,SAAUG,EACV,OAAQC,CACV"}