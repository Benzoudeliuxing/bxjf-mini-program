{"version":3,"file":"config.js","sources":["utils/config.js"],"sourcesContent":["/**\n * 应用配置文件\n */\n\n// 环境配置\nconst ENV_CONFIG = {\n  // 开发环境\n  development: {\n    baseURL: \"http://192.168.11.111:8080\",\n    apiPrefix: \"/api\",\n    timeout: 10000,\n    debug: true,\n  },\n\n  // 测试环境\n  test: {\n    baseURL: \"https://test-api.your-domain.com\",\n    apiPrefix: \"/api\",\n    timeout: 15000,\n    debug: true,\n  },\n\n  // 生产环境\n  production: {\n    baseURL: \"https://api.your-domain.com\",\n    apiPrefix: \"/api\",\n    timeout: 15000,\n    debug: false,\n  },\n};\n\n// 获取当前环境\nconst getCurrentEnv = () => {\n  // #ifdef MP-WEIXIN\n  // 微信小程序环境判断\n  const accountInfo = uni.getAccountInfoSync();\n  if (accountInfo.miniProgram.envVersion === \"develop\") {\n    return \"development\";\n  } else if (accountInfo.miniProgram.envVersion === \"trial\") {\n    return \"test\";\n  } else {\n    return \"production\";\n  }\n  // #endif\n\n  // #ifdef H5\n  // H5环境判断\n  if (location.hostname === \"localhost\" || location.hostname === \"127.0.0.1\") {\n    return \"development\";\n  } else if (location.hostname.includes(\"test\")) {\n    return \"test\";\n  } else {\n    return \"production\";\n  }\n  // #endif\n\n  // 默认返回开发环境\n  return \"development\";\n};\n\n// 当前环境\nconst currentEnv = getCurrentEnv();\n\n// 当前环境配置\nconst config = ENV_CONFIG[currentEnv];\n\n// API接口地址配置\nconst API_CONFIG = {\n  // 用户相关\n  user: {\n    profile: \"/app-api/member/user/get\",\n    updateProfile: \"/app-api/member/user/update\",\n  },\n\n  // 支付相关\n  payment: {\n    create: \"/app-api/bxgm/order/createOrder\",\n    verify: \"/payment/verify\",\n    list: \"/payment/list\",\n    detail: \"/payment/detail\",\n  },\n\n  // 文件上传\n  upload: {\n    image: \"/upload/image\",\n    file: \"/upload/file\",\n  },\n\n  // 其他业务接口\n  business: {\n    form: \"/app-api/bxgm/order/create\",\n    list: \"/app-api/bxgm/order/page\",\n    detail: \"/app-api/bxgm/order/get\",\n    delete: \"/app-api/bxgm/order/delete\",\n  },\n};\n\n// 状态码配置\nconst STATUS_CODE = {\n  SUCCESS: 0,\n  ERROR: -1,\n  UNAUTHORIZED: 401,\n  FORBIDDEN: 403,\n  NOT_FOUND: 404,\n  SERVER_ERROR: 500,\n};\n\n// 错误信息配置\nconst ERROR_MSG = {\n  NETWORK_ERROR: \"网络连接失败，请检查网络\",\n  TIMEOUT_ERROR: \"请求超时，请重试\",\n  SERVER_ERROR: \"服务器错误，请稍后重试\",\n  UNAUTHORIZED: \"登录已过期，请重新登录\",\n  FORBIDDEN: \"没有权限访问\",\n  NOT_FOUND: \"请求的资源不存在\",\n};\n\n// 导出配置\nexport { config, API_CONFIG, STATUS_CODE, ERROR_MSG, currentEnv };\n\nexport default {\n  ...config,\n  api: API_CONFIG,\n  statusCode: STATUS_CODE,\n  errorMsg: ERROR_MSG,\n  env: currentEnv,\n};\n"],"names":["ENV_CONFIG","getCurrentEnv","accountInfo","uni","currentEnv","config","API_CONFIG","STATUS_CODE","ERROR_MSG"],"mappings":"oDAKMA,EAAa,CAEjB,YAAa,CACX,QAAS,6BACT,UAAW,OACX,QAAS,IACT,MAAO,EACR,EAGD,KAAM,CACJ,QAAS,mCACT,UAAW,OACX,QAAS,KACT,MAAO,EACR,EAGD,WAAY,CACV,QAAS,8BACT,UAAW,OACX,QAAS,KACT,MAAO,EACR,CACH,EAGMC,EAAgB,IAAM,CAG1B,MAAMC,EAAcC,QAAI,qBACxB,OAAID,EAAY,YAAY,aAAe,UAClC,cACEA,EAAY,YAAY,aAAe,QACzC,OAEA,YAiBX,EAGME,EAAaH,EAAa,EAG1BI,EAASL,EAAWI,CAAU,EAG9BE,EAAa,CAEjB,KAAM,CACJ,QAAS,2BACT,cAAe,6BAChB,EAGD,QAAS,CACP,OAAQ,kCACR,OAAQ,kBACR,KAAM,gBACN,OAAQ,iBACT,EAGD,OAAQ,CACN,MAAO,gBACP,KAAM,cACP,EAGD,SAAU,CACR,KAAM,6BACN,KAAM,2BACN,OAAQ,0BACR,OAAQ,4BACT,CACH,EAGMC,EAAc,CAClB,QAAS,EACT,MAAO,GACP,aAAc,IACd,UAAW,IACX,UAAW,IACX,aAAc,GAChB,EAGMC,EAAY,CAChB,cAAe,eACf,cAAe,WACf,aAAc,cACd,aAAc,cACd,UAAW,SACX,UAAW,UACb,GAKe,CACb,GAAGH,CAKL"}