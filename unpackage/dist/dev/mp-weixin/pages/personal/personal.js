"use strict";const e=require("../../common/vendor.js"),r=require("../../utils/auth.js"),i={name:"Personal",data(){return{userInfo:{},isLoggedIn:!1}},methods:{getUserInfo(){this.userInfo=r.Auth.getUserInfo()||{},this.isLoggedIn=r.Auth.isLoggedIn()},goToLogin(){e.index.navigateTo({url:"/pages/login/login"})},handleLogout(){e.index.showModal({title:"确认退出",content:"确定要退出登录吗？",success:t=>{t.confirm&&r.Auth.logout()}})},handleMenuClick(t){if(!this.isLoggedIn){e.index.showToast({title:"请先登录",icon:"none"});return}switch(t){case"order":e.index.navigateTo({url:"/pages/payment-record/payment-record"});break;case"about":e.index.showModal({title:"关于我们",content:"这是一个基于uni-app开发的微信小程序，提供便捷的服务功能。",showCancel:!1});break;case"feedback":e.index.showToast({title:"意见反馈功能开发中",icon:"none"});break}}},onShow(){this.getUserInfo()},onLoad(){this.getUserInfo()}};function a(t,c,u,d,o,n){return e.e({a:o.userInfo.avatarUrl||"/static/logo.jpg",b:e.t(o.userInfo.nickname||"未设置昵称"),c:e.t(o.userInfo.mobile||"未绑定手机号"),d:e.t(o.userInfo.nickname?"已登录":"请先登录"),e:!o.isLoggedIn},o.isLoggedIn?{g:e.o((...s)=>n.handleLogout&&n.handleLogout(...s))}:{f:e.o((...s)=>n.goToLogin&&n.goToLogin(...s))},{h:e.o(s=>n.handleMenuClick("order"))})}const g=e._export_sfc(i,[["render",a],["__scopeId","data-v-6ae23533"]]);wx.createPage(g);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/personal/personal.js.map
