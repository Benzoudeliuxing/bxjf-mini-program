"use strict";const e=require("../../common/vendor.js"),m=require("../../utils/payment.js"),s={name:"PaymentDetail",data(){return{recordId:null,orderNo:"",paymentDetail:{id:null,title:"",amount:0,status:"unpaid",paymentTime:null,orderNo:"",description:"",paymentMethod:"微信支付",transactionId:""}}},methods:{formatAmount:m.formatAmount,goBack(){e.index.navigateBack()},getStatusText(a){return{paid:"缴费成功",unpaid:"待缴费",failed:"缴费失败"}[a]||"未知状态"},formatDate(a){return a?new Date(a).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"待缴费"},goToPay(){e.index.navigateTo({url:`/pages/payment/payment?orderNo=${this.orderNo}&amount=${this.paymentDetail.amount}&title=${this.paymentDetail.title}`})},loadPaymentDetail(){const a={1:{id:1,title:"2024年春季学费",amount:5e5,status:"paid",paymentTime:"2024-03-15 14:30:25",orderNo:"PAY202403150001",description:"2024年春季学期学费缴纳",paymentMethod:"微信支付",transactionId:"WX20240315143025001"},2:{id:2,title:"2024年住宿费",amount:3e5,status:"paid",paymentTime:"2024-02-28 09:15:10",orderNo:"PAY202402280002",description:"2024年春季学期住宿费",paymentMethod:"微信支付",transactionId:"WX20240228091510002"},3:{id:3,title:"2024年秋季学费",amount:5e5,status:"unpaid",paymentTime:null,orderNo:"PAY202409010003",description:"2024年秋季学期学费",paymentMethod:"微信支付",transactionId:""},4:{id:4,title:"教材费",amount:8e4,status:"paid",paymentTime:"2024-03-10 16:45:30",orderNo:"PAY202403100004",description:"2024年春季教材费用",paymentMethod:"微信支付",transactionId:"WX20240310164530004"},5:{id:5,title:"实验费",amount:12e4,status:"unpaid",paymentTime:null,orderNo:"PAY202403200005",description:"2024年春季实验课程费用",paymentMethod:"微信支付",transactionId:""}};let n=null;if(this.recordId&&a[this.recordId])n=a[this.recordId];else for(const o in a)if(a[o].orderNo===this.orderNo){n=a[o];break}n?this.paymentDetail={...n}:e.index.showToast({title:"未找到缴费记录",icon:"none"})}},onLoad(a){a.id&&(this.recordId=parseInt(a.id)),a.orderNo&&(this.orderNo=a.orderNo),this.loadPaymentDetail()}};function d(a,n,o,u,t,i){return e.e({a:e.o((...r)=>i.goBack&&i.goBack(...r)),b:t.paymentDetail.status==="paid"},t.paymentDetail.status==="paid"?{}:t.paymentDetail.status==="unpaid"?{}:{},{c:t.paymentDetail.status==="unpaid",d:e.n(t.paymentDetail.status),e:e.t(i.getStatusText(t.paymentDetail.status)),f:e.t(i.formatAmount(t.paymentDetail.amount)),g:e.t(t.paymentDetail.title),h:e.t(i.formatAmount(t.paymentDetail.amount)),i:e.t(t.paymentDetail.orderNo),j:e.t(i.formatDate(t.paymentDetail.paymentTime)),k:e.t(t.paymentDetail.paymentMethod||"微信支付"),l:e.t(t.paymentDetail.description||"无"),m:t.paymentDetail.status==="unpaid"},t.paymentDetail.status==="unpaid"?{n:e.o((...r)=>i.goToPay&&i.goToPay(...r))}:{},{o:t.paymentDetail.status==="paid"},t.paymentDetail.status==="paid"?{p:e.t(i.formatDate(t.paymentDetail.paymentTime)),q:e.t(t.paymentDetail.paymentMethod||"微信支付"),r:e.t(t.paymentDetail.transactionId||"暂无")}:{})}const p=e._export_sfc(s,[["render",d],["__scopeId","data-v-f76f7b53"]]);wx.createPage(p);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/payment-detail/payment-detail.js.map
