"use strict";const a=require("../../common/vendor.js"),o=require("../../utils/payment.js"),u={name:"PaymentRecord",data(){return{searchKeyword:"",currentStatus:"",records:[{id:1,title:"2024年春季学费",amount:5e5,status:"paid",paymentTime:"2024-03-15 14:30:25",orderNo:"PAY202403150001",description:"2024年春季学期学费缴纳"},{id:2,title:"2024年住宿费",amount:3e5,status:"paid",paymentTime:"2024-02-28 09:15:10",orderNo:"PAY202402280002",description:"2024年春季学期住宿费"},{id:3,title:"2024年秋季学费",amount:5e5,status:"unpaid",paymentTime:null,orderNo:"PAY202409010003",description:"2024年秋季学期学费"},{id:4,title:"教材费",amount:8e4,status:"paid",paymentTime:"2024-03-10 16:45:30",orderNo:"PAY202403100004",description:"2024年春季教材费用"},{id:5,title:"实验费",amount:12e4,status:"unpaid",paymentTime:null,orderNo:"PAY202403200005",description:"2024年春季实验课程费用"}]}},computed:{filteredRecords(){let t=this.records;if(this.currentStatus&&(t=t.filter(i=>i.status===this.currentStatus)),this.searchKeyword){const i=this.searchKeyword.toLowerCase();t=t.filter(n=>n.title.toLowerCase().includes(i)||n.orderNo.toLowerCase().includes(i)||n.description.toLowerCase().includes(i))}return t.sort((i,n)=>i.paymentTime&&n.paymentTime?new Date(n.paymentTime)-new Date(i.paymentTime):0)}},methods:{formatAmount:o.formatAmount,onSearchInput(){},filterByStatus(t){this.currentStatus=t},getStatusText(t){return{paid:"已缴费",unpaid:"未缴费",failed:"缴费失败"}[t]||"未知状态"},formatDate(t){return t?new Date(t).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"待缴费"},goToDetail(t){a.index.navigateTo({url:`/pages/payment-detail/payment-detail?id=${t.id}&orderNo=${t.orderNo}`})},loadPaymentRecords(){a.index.__f__("log","at pages/payment-record/payment-record.vue:218","加载缴费记录")}},onLoad(){this.loadPaymentRecords()},onShow(){this.loadPaymentRecords()}};function d(t,i,n,c,s,r){return a.e({a:a.o([e=>s.searchKeyword=e.detail.value,(...e)=>r.onSearchInput&&r.onSearchInput(...e)]),b:s.searchKeyword,c:s.currentStatus===""?1:"",d:a.o(e=>r.filterByStatus("")),e:s.currentStatus==="paid"?1:"",f:a.o(e=>r.filterByStatus("paid")),g:s.currentStatus==="unpaid"?1:"",h:a.o(e=>r.filterByStatus("unpaid")),i:a.f(r.filteredRecords,(e,l,p)=>({a:a.t(e.title),b:a.t(r.getStatusText(e.status)),c:a.n(e.status),d:a.t(r.formatAmount(e.amount)),e:a.t(r.formatDate(e.paymentTime)),f:a.t(e.orderNo),g:e.id,h:a.o(f=>r.goToDetail(e),e.id)})),j:r.filteredRecords.length===0},r.filteredRecords.length===0?{}:{})}const m=a._export_sfc(u,[["render",d],["__scopeId","data-v-e44f00af"]]);wx.createPage(m);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/payment-record/payment-record.js.map
